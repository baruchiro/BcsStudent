---
ID: 700
title: לינוקס במקביל לווינדוס
author: Baruch Rothkoff
post_excerpt: >
  הגדרת Linux תחת Windows עד
  להצגת חלונות
layout: post
permalink: https://www.bcsstudent.com/wsl/
published: true
date: 2018-02-26 12:57:52
---
אם עד עכשיו היינו מתקינים 2 מערכות הפעלה, או מתקינים מכונה וירטואלית כדי להשתמש בלינוקס במקביל לווינדוס, מאז שווינדוס הוסיפו תמיכה בלינוקס יש מקרים שזה לא נדרש.

אז Windows מתחילים להעיף מבט לכיוון הקוד הפתוח, כשבהתחלה הם הוכרזו כתורמים ראשיים ללינוקס, ולאחר מכן הוסיפו גם את Linux Shell לגרסאות החדשות של Windows 10 (נקרא WSL- Windows Subsystem for Linux).

אז קודם כל- אפשר להריץ פקודות לינוקס, כולל bash, משורת הפקודה כחלק מWindows.
כדי לעשות זאת נצטרך <a href="https://docs.microsoft.com/en-us/windows/wsl/install-win10">לאפשר את מערכת WSL</a>:

עבור מי שלא מקפיד שהווינדוס שלו מעודכן, לעדכן את הWindows או לעבוד על פי <a href="https://docs.microsoft.com/en-us/windows/wsl/install-win10">הקישור</a>.

מי שעובד על גרסה מעודכנת יכול גם כן לעבוד על פי הקישור, אבל הנה השלבים שהוא צריך לעשות.

<ol>
<li>לפתוח את התקנת התכונות הנוספות של Windows ע"י לחיצה על Win + R וכתיבת "optionalfeatures", פקודה שתפתח את חלונית הוספת התכונות לWindows.</li>
<li>סימון של "מערכת משנה של Windows עבור Linux" (באנגלית זה כנראה יהיה Windows Subsystem for Linux")</li>
<li>המחשב יבקש להתקין ולבצע הפעלה מחדש. בסדר.</li>
<li>לאחר ההפעלה מחדש יש להיכנס לחנות האפליקציות של Windows (היא קיימת למרות שלא השתמשתם בה) ולהתקין את אפליקציית Ubuntu.</li>
<li>לאחר שאפליקציית Ubuntu הותקנה, אפשר להיכנס לcmd ולכתוב ubuntu, וקיבלנו טרמינל של אובונטו!</li>
<li>בפעם הראשונה נצטרך להגדיר שם משתמש וסיסמה. אם שוכחים יש דרך לבטל, לא לדאוג.</li>
<li>אם כתוב לכם שיש שגיאה, חפשו אותה בקישורים הקודמים, ניסיתי לעשות לפי הסדר כדי להימנע ממנה.</li>
</ol>

זהו, אנחנו בWindows ויש לנו את השל shell אובונטו!

ניתן להשתמש בפקודות שאנחנו מכירים (או לא מכירים). תיקיית השורש עדיין תהייה תיקיית השורש הרגילה (תיקיית username בתוך תיקיית home בתיקיית השורש (יש בעיות עם נתיבים בטקסט בעברית))

הקבצים של Windows יהיו מעוגנים תחת תיקיית mnt בשורש, תיקייה לכל מחיצה בWindows. לדוגמא כונן C:

<p dir="ltr">/mnt/c/</p>

לא מומלץ לגשת לקבצים של מערכת לינוקס דרך Windows, אבל אם רוצים לבצע זאת הם נמצאים בתיקיית:

<p dir="ltr">C:Users{UserName}AppDataLocalPackagesCanonicalGroupLimited.UbuntuonWindows_{id}LocalStaterootfs</p>

<h2>שימוש בתוכנות גרפיות של Ubuntu</h2>

שלב מתקדם יותר הוא להציג תוכנות גרפיות של Ubuntu. האחראי על הצגת חלונות בלינוקס נקרא Xserver, ונצטרך להתקין גרסה שלו בWindows על מנת לאפשר הצגת חלונות Ubuntu.
אני התקנתי את <a href="https://sourceforge.net/projects/vcxsrv/" rel="noopener noreferrer" target="_blank">VcXsrv</a>. אחרי ההתקנה יהיו לנו 2 קבצי הרצה (בWindows)- XLaunch &amp; VcXsrv. כאשר XLaunch נותן לנו להגדיר את השרת ואז להפעיל אותו, ואילו VcXsrv מפעיל את השרת ישירות (ניתן לראות את הסמל שלו בשורת הסמלים הקטנה בלמטה של Windows).
בהפעלת XLaunch חשוב לסמן את Disable Access Control, שהסימון שלו יבטל את הגבלת הגישה ויאפשר לכל פקודה להפעיל את השרת.

בתור התחלה, Ubuntu וכל מערכת לינוקס אחרת מגיעה ללא שולחן עבודה וגרפיקה. כל שולחנות העבודה הם תוכנות שאנשים עשו כדי להקל על השימוש במערכת, ולכן לרוב התוכנות יש ממשק פקודות מאחורי הממשק הגרפי.

אז נצטרך להתקין שולחן עבודה. אני מעדיף להתקין את שולחן העבודה של XUbuntu שהוא נחשב יחסית קל (יותר מGnome הסטנדרטי). כדי להתקין נשתמש בפקודת ההתקנה הידועה (אם לא ידועה- תפגשו אותה המון):

<p dir="ltr">sudo apt-get install xfce4</p>

הפקודה תבקש את הסיסמה שהגדרתם בהתחלה, כי פקודת sudo אומרת שהיא מבצעת את הפקודה בהרשאות מנהל (root). לאחר מכן תדפיס פרטים על חבילות התוכנה שהולכות להיות מותקנות, ונצטרך לאשר (y). זה לוקח זמן ובסוף שולחן העבודה מותקן.

נכנס לעריכת הקובץ .bashrc עם הפקודה nano .bashrc, נרד עד סוף הקובץ ונוסיף את השורה export DISPLAY=:0.0, שמגדירה משתנה מערכת DISPLAY עם הערך 0.0, זהו בעצם "הפורט" של שרת הX שבו אנחנו רוצים להציג את החלונות- התצוגה הנוכחית.

שלב אחרון- כדי להפעיל את שולחן העבודה נצטרך כמובן לוודא שXServer מופעל כרגע במחשב, ונכתוב את הפקודה xfce4-session. בעצם קראנו לתוכנית של xfce4, ונראה קצת פלט, ואז נראה את התפריט של XUbuntu (למעלה) ואת משגר האפליקציות (למטה).
דרך התפריט למעלה נוכל ללחוץ על Applications ולראות אפליקציות מותקנות, ולהפעיל אותם!
בשביל להתקין אפליקציות נוספות.... זה כבר שימוש בלינוקס- חיפוש בגוגל, למידה, הרגל וכו'.