---
title: הגדרות שרת המדיה הביתי שלי
date: 2020-11-06
draft: false
tags: ['Personal', 'home-server', 'repository', "integrations"]
images: /static/images/home-server/home-server.png
summary: איך מוגדר שרת המדיה הביתי שלי, להורדת סדרות וסרטים בצורה אוטומטית, חיפוש כתוביות, התחברות מכל מכשיר וסקריפטים נוספים
type: Blog
---

יש לי בבית, ליד הWiFi, מחשב קטן בלי מסך או מקלדת. אתם יודעים, כזה שאמורים לחבר לטלוויזיה או משהו. זה "השרת" הפרטי שלי, משמש לכל מיני דברים שאני רוצה שיפעלו תמיד, כמו בוט של טלגרם, לדוגמא.

זה מאוד קל להגדיר שרת כזה כשמשתמשים ב[Docker](/docker/), ואני יכול פשוט לשתף את ההגדרות שלי עם העולם, אם גם אתם רוצים להגדיר שרת כזה.

אז הגדרות השרת שלי נמצאות [כאן](https://github.com/baruchiro/home-server), והנה קצת הסברים:

### Jellyfin

_[Jellyfin](https://jellyfin.org/)_ היא תוכנת קוד פתוח (כמובן) ל**שרת מדיה ביתי**.

**שרת מדיה ביתי** זאת בעצם תוכנה שיודעת להציג את המדיה שלנו- סרטים, מוזיקה, תמונות ולפעמים עוד דברים, בצורה מאורגנת. אולי אתם מכירים את Kodi, רק שההבדל הוא שKodi לדעתי מתמקד במדיה, ולכן יש לו הרבה פיצ'רים של הורדת מדיה מהאינטרנט בצורה אוטומטית וכד'. תוכנת _Jellyfin_ אמנם לא יודעת להוריד תוכן מהאינטרנט, אבל היכולת העיקרית שלה היא _גישה מרחוק_- התקנתי אותה על השרת, ועכשיו אני יכול לגשת למדיה שלי מכל המכשירים ברשת הביתית.

אז מאיפה מגיעה המדיה ל*Jellyfin*?

### Jackett

קצת קשה לי להסביר על _[Jackett](https://github.com/Jackett/Jackett)_, גם אני לא יודע עד הסוף מה התהליך שקורה, אבל התפקיד של _Jackett_ הוא באופן כללי, לתת קישורים לתוכן.

אנחנו נראה בהמשך ונבין איך כל תוכנה דואגת למשימה הקטנה שלה, אבל באופן כללי, נניח שאני רוצה להוריד קובץ כלשהו שיצא לרשת, אני יכול להשתמש ב*Jackett* שיודע לחפש את הקובץ בכל מיני אוספים. היתרון הוא שאני צריך לחפש רק פעם אחת, מול _Jackett_, וגם לא צריך להסתבך עם כל אוסף והפורמט\הפרוטוקול שלו.

### Deluge

מאוד פשוט, _[Deluge](https://deluge-torrent.org/)_ הוא תוכנת הורדת torrents. כמובן שהיתרון שלו בהקשר הנוכחי הוא שאפשר להריץ אותו בDocker והוא חושף ממשק Web, כך אני יכול להתחבר אליו מרחוק.

### Sonarr, Radarr, Bazarr

נשמעים שמות דומים, נכון? (וגם יש להם את אותו קטע של _Jackett_, עם האות הכפולה בסוף ;-) )

כולם נראים ועושים פחות או יותר אותו דבר.

_[Sonarr](https://sonarr.tv/)_ אחראי על מעקב אחרי יציאה של פרקים ב**סדרות** שאתה עוקב אחריהם. אני לא משתמש בכל הפיצ'רים שיש שם, כמו למשל לוח שנה שמציג מתי פרקים מתוכננים לצאת.

_[Radarr](https://radarr.video/)_ הוא כמו _Sonarr_, רק ל**סרטים**. שניהם אחראים רק על מעקב אחרי יציאת תוכן חדש. כאשר תוכן חדש צריך להיות זמין, הם שואלים את _Jackett_ האם הוא יודע לתת להם קישור להורדה, וברגע שיש להם קישור זמין להורדה, הם שולחים אותו ל*Deluge* שיוריד אותו.

הקובץ יורד לתיקייה ש*Jellyfin* מסתכל עליה, ויודע להציג את התוכן ברגע שהוא זמין.

התפקיד של _[Bazzar](https://www.bazarr.media/)_ הוא להסתכל גם כן על התיקייה של המדיה, ולחפש **כתוביות** לתוכן שירד.

### telegram-download-deamon

לפעמים יש מדיה שאני רוצה להוסיף ל*Jellyfin*, אבל התוכנות שהזכרתי למעלה לא מצליחות למצוא אותה. לצורך כך יש לי בוט ב*Telegram* שרץ על שרת המדיה ומוריד את הקבצים שאני שולח אליו.

(טוב, לא בדיוק בוט, זה יותר Telegram Client, מהסיבה שבוט מוגבל יותר בהורדה של קבצים גדולים.)

הקוד של [telegram-download-deamon](https://github.com/alfem/telegram-download-daemon) מנוהל על ידי מישהו אחר, אבל חלקים גדולים מהקוד נכתבו על ידי, ואני עוד שוקל להשתמש בfork שלי, מכיוון שנראה שלי יש יותר צורך ועניין בכלי הזה מאשר לMaintainer.

### Portainer

[Portainer](https://www.portainer.io/) הוא כלי לניהול Docker מרחוק, מאוד נוח, אפשר לראות איזה images, volumes, containers וכו' יש על המכונה כרגע, מה המצב שלהם, לראות לוגים, להיכנס לתוך הcontainers ועוד.

## מה הלאה?

אפשר להסתכל ב[branches](https://github.com/baruchiro/home-server/branches) של הקוד, לראות כל מיני כלים חדשים שאני מנסה (כשיש לי זמן, לא תמיד אני מגיע לזה). למשל, הייתי באמצע לבדוק את _[home-assistant](https://www.home-assistant.io/)_, יכולים לראות גם [כאן](/home-assistant/).

> מוזמנים להשתמש!
